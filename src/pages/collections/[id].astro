---
import MainLayout from '../../layouts/MainLayout.astro';
import { collections } from '../../data/collections';

export function getStaticPaths() {
    return collections.map(collection => ({
        params: { id: collection.id },
        props: { collection }
    }));
}

const { collection } = Astro.props;
---

<MainLayout title={collection.title}>
    <div class="collection">
        <h1>{collection.title}</h1>
        <p class="description">{collection.description}</p>
        
        <div class="experiences-grid">
            {collection.experiences.map(experience => (
                <div class="experience-card">
                    <img src={experience.imageUrl} alt={experience.title} />
                    <div class="content">
                        <h3>{experience.title}</h3>
                        <p>{experience.description}</p>
                        {experience.date && <small>{new Date(experience.date).toLocaleDateString()}</small>}
                    </div>
                </div>
            ))}
        </div>
    </div>
</MainLayout>

<style>
    .collection {
        padding: 2rem;
    }
    
    .description {
        text-align: center;
        margin-bottom: 2rem;
    }
    
    .experiences-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
    }
    
    .experience-card {
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
    }
    
    .experience-card img {
        width: 100%;
        aspect-ratio: 2/3;
        object-fit: cover;
        object-position: center 25%;
    }
    
    .content {
        padding: 1rem;
    }
    
    @media (max-width: 768px) {
        .experiences-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }
    
    @media (max-width: 480px) {
        .experiences-grid {
            grid-template-columns: 1fr;
        }
    }
</style> 